function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/NutritionDetailModal-DpeUmOsA.js","assets/index-BFXN82j_.js","assets/index-BtHwQ-AY.css","assets/NutritionDetailModal-437m30aJ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as R,e as v,r as i,f,j as e,_ as P,R as k,g as T,G as F,N as I}from"./index-BFXN82j_.js";const A="_Nutrition_section_1dy9g_2",D="_nutrition_title_1dy9g_11",M="_search_result_section_1dy9g_30",O="_item_container_1dy9g_42",G="_item_box_1dy9g_54",w="_nutrtion_search_form_1dy9g_119",c={Nutrition_section:A,nutrition_title:D,search_result_section:M,item_container:O,item_box:G,nutrtion_search_form:w},y=R({key:"pageNumber",default:1});function q(t){return v({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 8 8 12 12 16"},child:[]},{tag:"line",attr:{x1:"16",y1:"12",x2:"8",y2:"12"},child:[]}]})(t)}function L(t){return v({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}const W=({setValue:t})=>{const s=i.useRef(null),[l,o]=f(y);return e.jsxs("form",{className:c.nutrtion_search_form,onSubmit:r=>{r.preventDefault()},children:[e.jsx("label",{className:c.nutrition_search_label,htmlFor:"search",children:e.jsx(L,{})}),e.jsx("input",{ref:s,id:"search",type:"search",onKeyDown:r=>{const n=r.currentTarget.value;r.code==="Enter"&&(t(n),o(1))}}),e.jsx("button",{onClick:()=>{if(s.current){const r=s.current.value;t(r),o(1)}},children:"조회"})]})},z="_pagination_container_gu2ub_1",B={pagination_container:z},U=({totalPage:t})=>{let[s,l]=f(y);const o=i.useRef(5),[r,n]=i.useState(),[x,g]=i.useState(0),[a,u]=i.useState(0),[_,m]=i.useState(0),p=a>=t,N=_>s,b=i.useCallback((d,j)=>{g(Math.ceil(d/o.current)),u(j*o.current);const S=[];p&&u(t),p&&N&&u(j*o.current);for(let h=_;h<=a;h++)h>0&&S.push(e.jsx("li",{onClick:C=>{const E=Number(C.currentTarget.textContent);l(E),g(d/o.current)},style:d===h?{boxShadow:"inset 50px 50px 0 white",color:"black",border:"1px solid gray"}:{boxShadow:"inset 50px 50px 0 0 rgb(131, 131, 240)"},children:h}));n(S)},[l,_,a,t,N,p]);return i.useEffect(()=>{a%2,m(a-o.current+1)},[_,a,t]),i.useEffect(()=>{b(s,x)},[s,x,b]),e.jsxs("ul",{className:B.pagination_container,style:t===0?{display:"none"}:{display:"flex"},children:[e.jsx("li",{style:s<=1?{visibility:"hidden",opacity:0}:{visibility:"visible",opacity:1},onClick:()=>{l(Math.max(--s,0))},children:"prev"}),r==null?void 0:r.map(d=>{const j=d.props.children;return e.jsx(i.Fragment,{children:d},j)}),e.jsx("li",{style:t===s?{visibility:"hidden",opacity:0}:{visibility:"visible",opacity:1},onClick:()=>{l(Math.min(++s,t))},children:"next"})]})},$=i.lazy(()=>P(()=>import("./NutritionDetailModal-DpeUmOsA.js"),__vite__mapDeps([0,1,2,3]))),V=({itemList:t})=>{const[s,l]=i.useState(!1),[o,r]=i.useState(0);return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:c.search_result_section,id:"nutrition_result_section",children:t==null?void 0:t.map(n=>e.jsxs("ul",{className:c.item_container,onClick:()=>{r(n.id),l(!0)},children:[e.jsx("li",{className:c.item_box,children:e.jsxs("h3",{children:[" ",n.PRODUCT_NAME]})}),e.jsxs("li",{className:c.item_box,children:[e.jsx("strong",{children:"식별번호"}),n.id]}),e.jsxs("li",{className:c.item_box,children:[e.jsx("strong",{children:"음식기원"}),n.PRODUCT_ORIGIN_NAME]}),e.jsxs("li",{className:c.item_box,children:[e.jsx("strong",{children:"(총)중량"}),n.FOOD_WEIGHT]}),e.jsxs("li",{className:c.item_box,children:[e.jsx("strong",{children:"출처"}),n.DATA_ORIGIN]}),e.jsxs("li",{className:c.item_box,children:[e.jsx("strong",{children:"갱신일자"}),n.BASE_DATE]}),e.jsxs("li",{className:c.item_box,children:[e.jsx("strong",{children:"생성일자"}),n.CREATION_DATE]})]},n.id))}),e.jsx(i.Suspense,{fallback:e.jsx(k,{}),children:e.jsx($,{id:o,itemList:t,setModalState:l,modalState:s})})]})},H=20,K=()=>{const[t]=f(y),[s,l]=i.useState("");i.useEffect(()=>{document.title="식품영양정보조회 | FoodPicker"},[]);const o=`/nutritions?search=${s}&page=${t}`,r=["nutrition",s,t],{data:n,isPending:x,isFetching:g}=T(r,o);if(!n&&x)return e.jsx(k,{});const{items:a,totalCount:u}=n||{items:[],totalCount:0},_=Array.isArray(a)&&a.length<1,m=Math.ceil(u/H);return e.jsxs("section",{className:c.Nutrition_section,children:[e.jsx("h2",{className:c.nutrition_title,children:e.jsx("strong",{children:"식품영양정보조회"})}),e.jsx(F,{path:"/nutrition",mainName:"조회 서비스",subName:"식품영양정보조회",totalCount:u}),e.jsx(W,{setValue:l}),g?e.jsx("h2",{children:"데이터를 불러오고 있습니다. "}):null,_?e.jsx(I,{message:"요청하신 데이터가 존재하지 않습니다."}):e.jsx(V,{itemList:a}),e.jsx(U,{totalPage:m})]})},J=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{q as F,J as N};
